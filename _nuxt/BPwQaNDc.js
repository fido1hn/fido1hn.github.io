import{_ as g}from"./BuGhHlhK.js";import{u as h}from"./BvbAF57J.js";import{q as f}from"./7FeoDBVa.js";import{u as x}from"./cvTR0X78.js";import{d as v,q as b,s as k,v as w,a,o as c,c as d,l as S,u as _,F as Y,i as A,j as C,f as q,w as B,n as I,t as m,_ as D}from"./BDzbcDcm.js";import"./DvDH6DOc.js";import"./CRrBzW7W.js";const F=o=>(A("data-v-79296913"),o=o(),C(),o),N={class:"not-prose font-mono"},L=F(()=>a("div",{class:"column text-gray-400 text-sm"},[a("div",{class:""},"date"),a("div",{class:""},"title")],-1)),V=v({__name:"blog-posts",props:{limit:{type:String,default:null}},async setup(o){let r,n;const i=o,{data:p}=([r,n]=b(()=>h("blog-list",()=>{const e=f("/blog").where({_path:{$ne:"/blog"}}).only(["_path","title","publishedAt"]).sort({publishedAt:-1});return i.limit&&e.limit(i.limit),e.find()})),r=await r,n(),r),u=k(()=>{if(!p.value)return[];const e=[];let l=null;for(const s of p.value){const t=new Date(s.publishedAt).getFullYear(),y=t!==l;s.displayYear=y,s.year=t,e.push(s),l=t}return e});return x({title:"Blog"}),(e,l)=>{const s=g;return w(e.$slots,"default",{posts:_(u)},()=>[a("section",N,[L,a("ul",null,[(c(!0),d(Y,null,S(_(u),t=>(c(),d("li",{key:t._path},[q(s,{to:t._path,class:"column group hover:bg-gray-100 dark:hover:bg-gray-800"},{default:B(()=>[a("div",{class:I({"text-white group-hover:text-gray-100 dark:text-gray-900 dark:group-hover:text-gray-800":!t.displayYear,"text-gray-400 dark:text-gray-500":t.displayYear})},m(t.year),3),a("div",null,m(t.title),1)]),_:2},1032,["to"])]))),128))])])],!0)}}}),K=D(V,[["__scopeId","data-v-79296913"]]);export{K as default};
